<!--
@key 24
@title Ubuntu / Debian å®‰è£… MySQL
@date 2020-2-22
@labels Tips Web MySQL
@description Ubuntu / Debian åŒå± apt-get åŒ…ç®¡ç†ç”Ÿæ€ï¼Œå®‰è£…åªéœ€è¦å°† MySQL APT ä»“åº“æ·»åŠ åˆ° apt-get ä¸­ï¼Œä½¿ç”¨ apt-get å®‰è£…å³å¯ï¼Œè¯¦æƒ…å‚è€ƒæ–‡ç« ã€‚
-->

# ğŸ§€ é…ç½® apt-get Repo

é¦–å…ˆæ‰“å¼€ç½‘ç«™ [MySQL APT Repo](https://dev.mysql.com/downloads/repo/apt/)ï¼Œä¸‹è½½ `MySQL APT` ä»“åº“æè¿°æ–‡ä»¶ï¼š

![MySQL APT Repo](../../img/27.png)

å³é”® `No thanks, just start my download` é“¾æ¥ï¼Œé€‰æ‹©å¤åˆ¶é“¾æ¥ï¼š

![Download](../../img/28.png)

è¿›å…¥æœåŠ¡å™¨ç»ˆç«¯ï¼Œè¿›å…¥å·¥ä½œç›®å½•ï¼š

```shell
cd ~
```

ä½¿ç”¨ `wget` ä¸‹è½½åˆšåˆšå¤åˆ¶çš„ `deb` æ–‡ä»¶é“¾æ¥ï¼š

```shell
wget https://dev.mysql.com/get/mysql-apt-config_0.8.15-1_all.deb
```

ç‰ˆæœ¬å·å¯èƒ½ä¸ä¸€å®šç›¸åŒï¼Œä»¥ä½ è‡ªå·±å¤åˆ¶çš„ä¸ºå‡†ã€‚ä¸‹è½½å®Œæˆåå¯ä»¥çœ‹åˆ°æ–°å¢çš„æ–‡ä»¶ï¼Œä½¿ç”¨ `dpkg` å°†ä»“åº“æ·»åŠ åˆ° `apt-get` ä¸­ï¼š

```shell
sudo dpkg -i ./mysql-apt-config_0.8.15-1_all.deb
```

è¿‡ç¨‹ä¸­ä¼šå¼¹çª—ï¼š

![Repo Request](../../img/29.png)

é€‰æ‹©æœ€åä¸€é¡¹ç»§ç»­ï¼Œå®Œæˆé€‰æ‹©åå†æ›´æ–°ä¸€æŠŠ `apt-get` çš„æºï¼š

```shell
sudo apt-get update
```

å®Œæˆåå¯ä»¥å¼€å§‹æ­£å¼çš„å®‰è£…äº†ï¼š

# ğŸ™ å®‰è£…

```shell
sudo apt-get install mysql-server
```

ä¸­é€”ä¼šæç¤ºè¾“å…¥åˆ›å»ºæ•°æ®åº“ `root` ç”¨æˆ·å¯†ç ï¼Œåˆ›å»ºåç»§ç»­å³å¯ã€‚

# ğŸ¥ åŸºæœ¬æ“ä½œ

å¼€å¯æœåŠ¡ï¼š

```shell
sudo service mysql start
```

å…³é—­æœåŠ¡ï¼š

```shell
sudo service mysql stop
```

é‡å¯æœåŠ¡ï¼š

```shell
sudo service mysql restart
```

ç™»å½•ï¼š

```shell
mysql -u $username -p
```

# ğŸ– åˆ›å»ºå…¶ä»–è´¦æˆ·

å°½é‡ä¸è¦ç›´æ¥ä½¿ç”¨ `root` è´¦æˆ·ï¼Œç™»å½•æ•°æ®åº“åä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤åˆ›å»ºç”¨æˆ·ï¼š

```shell
mysql> CREATE USER 'username'@'%' IDENTIFIED BY 'password';
```

åˆ†é…æ‰€æœ‰æƒé™ï¼ˆä¹Ÿå¯æŒ‰éœ€åˆ†é…ï¼‰ï¼š

```shell
mysql> GRANT ALL PRIVILEGES ON *.* TO 'username'@'%';
```

åˆ·æ–°æƒé™ï¼š

```shell
mysql> FLUSH PRIVILEGES;
```

ä¿®æ”¹ `bind-address`ï¼š

```shell
sudo vim /etc/mysql/mysql.conf.d/mysqlld.cnf
```

æ›´æ”¹ï¼š

```shell
  # By default we only accept connections from localhost
- bind-address    = 127.0.0.1
+ bind-address    = 0.0.0.0
```

è¿™æ ·å°±å¯ä»¥è¿œç¨‹ç™»å½• `MySQL` äº†ï¼Œç”Ÿäº§ç¯å¢ƒè®°å¾—æ”¹å›æ¥ã€‚